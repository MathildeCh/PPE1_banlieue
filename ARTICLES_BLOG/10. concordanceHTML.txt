07/12/2022 – Ajout des concordances aux tableux HTML


Si dans l’étape précédente on a vu comment nous avons éxtrait le contexte d’apparition de nos mots-clés, cette fois-ci nous verrons comment nous avons recupéré les concordances de nos mots-clés. Pour “concordances” on entend tous les tokens à droite et à gauche par rapport à notre mot-clés et qui sont présents sur la meme ligne dans nos articles. L’organisation et la présentation de cette donnée très importante a été faite sous la forme d’un autre tableau HTML qui sera, à son tour, integré aux tableaux HTML dont on a déjà parlé lors des étapes précédentes. Ces nouveaux tableaux HTML dédiés aux concordances contiennent 3 colonnes où, au centre, on retrouve nos mots-clés et à droite et à gauche les occurrences des autres mots présents sur la meme ligne : 


############## IMAGE 1 – 1.concordancesHTML ############################


Afin de pouvoir créer les tableaux HTML des concordances nous avons du écrire un nouveau script bash nommé “concordances.sh”. Ce script va créer 4 nouveaux tableaux HTML, un par langue choisie pour ce projet, et va les stocker dans un dossier CONCORDANCE. À ce propos, dans les premières lignes du script una variable “liste” est déclarée et elle va contenir les différents fichiers présents dans le dossier CONTEXTES à fur et à mésure du traitement effectué par deux boucles “for” imbriquées.  


############## IMAGE 2 – 2.concordancesHTML ############################


Ensuite, pour chaque fichier “contexte”, une commande “grep” va rechercher le pattern indiqué  (nos mots-clés dans leurs différentes formes flexionnelles) en ignorant la casse avec l’option -i ; cette commande “grep” contient l’option -E (extended grep = “egrep”) et -T pour regler la tabulation des caractères en début de phrase et leur alignement. Une fois obtenue la ligne contenante nos mot-clés, nous avons effectué une commande “sed” sur ce meme resultat. “sed” permet d’éditer rapidement des fichiers tels quels nos tableaux concordances HTML crées auparavant. Effectivement, lancer “sed” sur le resultat du “grep” en lui précisant un pattern spécifique à notre tache nous a permis de séparer la ligne contenante nos mots-clés en contexte gauche, mot-clès et contexte droit :


############## IMAGE 3 – 3.concordancesHTML ############################


Cette tripartition est ensuite insérée dans chacun des tableaux concordances HTML grace à la syntaxe HTML d’inséertion d’une ligne dans un tableaux <tr> et de remplissage des cellules <td>. 
