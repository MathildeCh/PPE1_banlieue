<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Article 5</title>
        <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"> -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

        <style>
            .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
            }

            @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
            }

            .b-example-divider {
            height: 3rem;
            background-color: rgba(0, 0, 0, .1);
            border: solid rgba(0, 0, 0, .15);
            border-width: 1px 0;
            box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
            }

            .b-example-vr {
            flex-shrink: 0;
            width: 1.5rem;
            height: 100vh;
            }

            .bi {
            vertical-align: -.125em;
            fill: currentColor;
            }

            .nav-scroller {
            position: relative;
            z-index: 2;
            height: 2.75rem;
            overflow-y: hidden;
            }

            .nav-scroller .nav {
            display: flex;
            flex-wrap: nowrap;
            padding-bottom: 1rem;
            margin-top: -1px;
            overflow-x: auto;
            text-align: center;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
            }
        </style>

        <link href="https://fonts.googleapis.com/css?family=Playfair&#43;Display:700,900&amp;display=swap" rel="stylesheet">
        <link href="../assets/CSS/blog.css" rel="stylesheet">
    </head>
    <body>
    <div class="container">
        <header class="blog-header lh-1 py-3">
            <div class="d-flex justify-content-around align-items-center">
              <div class="col-6 text-center">
                <a class="blog-header-logo text-dark" href="../index.html">BANLIEUE</a>
              </div>
    
              <img width="5%" src="../assets/img/banlieue_logo2.png" alt="">
            </div>
        </header>

        <div class="d-flex justify-content-between align-items-stretch">
            <nav class="nav navbar navbar-expand-lg">
                <div class="container-fluid py-1 mb-12">
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="../index.html">ACCUEIL</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link"href="../etapes.html">ÉTAPES DU PROJET</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link"  href="../TABLEAUX/index.html">TABLEAUX</a>
                        </li>
                        <li class="nav-item">
                        <a class="nav-link"  href="../scripts.html">SCRIPTS</a>
                        </li>
                        <li class="nav-item">
                        <a class="nav-link"  href="../resultats.html">ANALYSE DES RÉSULTATS</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link"  href="../contact.html">CONTACT</a>
                        </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <div>
        <img class="img-fluid" src="../assets/img/banlieue.jpg" alt="dessin de banlieue">
    </div>


    <main class="container">
        <div class="row g-1">
        <div class="col-md-8">
            <h3 class="pb-4 mb-4 fst-italic border-bottom">
            ARTICLE 5
            </h3>

            <article class="blog-post">
            <h2 class="blog-post-title mb-1">Cinquième étape : Intégration codes HTTP et encodage des urls aux tableaux HTML.</h2>
            <p class="blog-post-meta">écrit le 16 novembre 2022 par <a href="../contact.html">Lilas, Mathilde, Diego</a></p><br>
            <p>
                Suite à la création des tableaux HTML, nous avons continué progressivement leur remplissage. Dans cette étape nous avons ajouté aux tableaux HTML les codes HTTP des tous les urls et leur encodage. Pour cela faire nous avons procédé de la façon suivante à la modification de notre script bash/HTML :

                <br><br>

                
                <h4 class="mb-3">Code HTTP des urls</h4>

                Pour chaque urls traité par la boucle “while”, nous avons executé une commande “curl” qui nous a retourné en tant que resultat le code HTTP de ces derniers. La ligne de code que nous avons écrit est la suivante : 

            </p>
            <p>
                <img width=100% src="../assets/img/1.integrationCodesHTTPTableaux.png" alt="screenshot intégration des tableaux">
            </p>
            <p>
                Après la déclaration de la variable “codeHTTP”, nous lui avons attribué le resultat de plusieurs opérations effectuées sur les aspirations de “curl”. Pour que “curl” nous renvoie seulement le code HTTP de l’url traité, nous avons choisi plusieurs options de "curl" disponibles : 
                <ul>
                    <li>
                        -b --cookie = pour accepter les cookies eventuels
                    </li>
                    <li>
                        -A = spécification de l’user agent
                    </li>
                    <li>
                        -L = permet à “curl” de suivre toutes les redirections
                    </li>
                    <li>
                        -w = permet à “curl” de montrer l’output (le code HTTP) en sortie standard
                    </li>
                    <li>
                        -o = permet de stocker la page aspirée dans un fichier spécifié
                    </li>
                </ul>
            </p>
            <p>
                Une fois que la variable “codeHTTP” contient le code HTTP de l’url traité, nous l’avons ajoutée aux tableaux HTML crée lors de l’étape précedente. Il est important aussi de remarquer que les aspirations des tous les urls ont été stockées et triées dans un dossier appelé ASPIRATIONS.
                <br><br>
            </p>
                <h4>Encodage des textes des urls</h4>
            <p>
                Afin de retrouver l’encodage des caractères des textes des articles constituants notre corpus, nous avons écrit la ligne de commnde suivante :
            </p>
            <p>
                <img width=100% src="../assets/img/2.integrationCodesHTTPTableaux.png" alt="screenshot intégration des tableaux2">
            </p>
            <p>
                Comme vu auparavant, ici aussi on a déclaré une varable “encodage” et nous y avons stocké dedans le resultat d’une opération “curl”, “grep”,”cut” et “head” dans l’ordre ci-precisé. Les options choisis pour “curl” cette fois ci-sont :
                <ul>
                    <li>
                        -I = “curl” affihe seulement les headers
                    </li>
                    <li>
                        -s = mode silence de “curl”
                    </li>
                    <li>
                        -w = permet à “curl” de montrer l’output (l’encodage) en sortie standard
                    </li>
                </ul>
            </p>
            <p>
                Toutefois, le resultat de “curl” n’était pas encore parfait car on devait encore isoler l’encodage sans qu’autres portions du texte du header n’apparaissent. Pour cela faire nous avons utilisé “grep” sur la sortie standard de “curl” avec les options suivantes : 
                <ul>
                    <li>
                      -i = “grep” ignore la casse  
                    </li>
                    <li>
                        -P = “grep” interprète le pattern fourni comme une expression régulière Perl
                    </li>
                    <li>
                        -o = “grep” affiche seulement le texte qui matche le pattern fourni
                    </li>
                </ul>
            </p>
            <p>
                À ce moment là, il nous fallait absulement éliminer le mot “charset=” pour garder juste le portion du texte qui suit. C’est donc avec “cut” que nous avons divisé la sortie de “grep” en ce qui est avant le symbole “=” et ce qui suit ce symbole. Ensuite nous en avons recuperé la déuixème ligne où il est marqué l’encodage du texte de l’article et nous avons ajouté la valeur de la variable "encodage" à nos tableaux HTML :
            </p>
            <p>
                <img width=100% src="../assets/img/3.integrationCodesHTTPTableaux.png" alt="screenshot intégration des tableaux3">
            </p>

            </article>
        </div>

        <div class="col-md-4">
            <div class="position-sticky" style="top: 2rem;">
            <div class="p-4 m-3 bg-light rounded">
                <h4 class="fst-italic">À propos</h4>
                <p class="mb-0">Ce site propose une analyse socio-linguistique de l'utilisation du mot "banlieue" dans la presse numérique française, anglaise, italienne et grecque. <br> <a href="./contact.html">Qui sommes-nous?</a></p>
            </div>
            <div class="p-4 m-3  bg-light rounded">
                <h4 class="fst-italic">Autres articles</h4>
                <ol class="list-unstyled mb-0">
                <li>→ <a href="./jdb.html">Journal de bord</a></li>
                <li>→ <a href="./article7.html">7. Intégration des titres et gestion des réponse 403</a></li>
                <li>→ <a href="./article8.html">8. Arborescence du projet et construction du site</a></li>
                <li>→ <a href="./article9.html">9. Ajout des contextes au tableaux HTML</a></li>
                <li>→ <a href="../etapes.html">Tous les articles</a></li>
                </ol>
            </div>
            </div>
        </div>
        </div>

        <nav class="blog-pagination" aria-label="Pagination">
        <a class="btn btn-outline-warning rounded-pill" href="#">Haut</a>
        </nav>

        <div class="container d-flex justify-content-center">
        <nav class="blog-pagination" aria-label="Pagination">
            <a class="btn btn-outline-dark rounded-pill" href="./article4.html">Article précèdent</a>
            <a class="btn btn-outline-dark rounded-pill" href="./article6.html">Article suivant >></a>
        </nav>
        </div>
    </main>



    <footer class="blog-footer">
    <div class=" mb-3">
        <nav class="footer d-flex justify-content-around">
        <a class="link-secondary" href="../index.html">Accueil</a>
        <a class="link-secondary" href="../etapes.html">Étapes du projet</a>
        <a class="link-secondary" href="../TABLEAUX/index.html">Tableaux</a>
        <a class="link-secondary" href="../scripts.html">Scripts</a>
        <a class="link-secondary" href="../resultats.html">Résultats</a>
        <a class="link-secondary" href="../contact.html">Contact</a>
        </nav>
    </div>
    <p class="mb-0">Made with love by Mathou, Dedo & Lilou</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    </body>
</html>