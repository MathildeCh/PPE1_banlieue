21/11/2022 – Comptage occurrences mots et vérification codeHTTP


À cette date nous avons continué le travail sur les tableaux HTML. Cette fois-ci nous avons procédé à l’écriture de certaines lignes de code qui nous ont permis d’ajouter le nombre d’occurrences de nos mots-clès dans chaque urls. Les lignes de code sont les suivantes : 


############### IMAGE 1 – 1.comptageMots #############################


Tout d’abord nous avons déclaré une variable “occurrence_mot” avec une valeur nulle. Ensuite, avant de d’activer les commandes qui permettent de compter les occurrences, nous avons vérifié si la variable “encodage” n’est pas nulle et si le code HTTP est bien 200 ou 302 (code qui nous indique la réussite de notre requete). Malheuresement, nous n’avons pas su se passer de la commande “unset” pour la variable “occurrence_mot” et nous n’avons pas reussi à trouver le moyen de faire fonctioner le scrpt sans (une fois éliminée “unset” aucune valeur est affectée à la variable “occurrence_mot”!). 
Pour ce qui concerne le comptage des occurrences de nos mots-clès, une fois vérifié l’encodage correct et le le bon code HTTP, nous avons utilisé le navigaeur web en mode texte “lynx” à ce propos. “lynx” a été appalé avec les options “-dump” et “-nolist” sur la base des aspirations effectuée lors des étapes précédentes. L’option “-dump” renvoie le rendu de “lynx” dans la sortie standard et,“-nolist” désactve l’apparition de la liste des liens corrélés à la page web en renvoyant ainsi seulement le texte des articles que nous intéresse. Le resultat de la commande “lynx” est finalement enregistré dans un fichier texte et sauvegardé dans un dossier DUMS-TET. Tous les dumps-text serviront dans la ligne suivante où on attribue à la variable “occurrence_mot” le resultat de la recherche textuelle effectué avec “egrep”. La recherche “egrep” prevoit que l’on retienne seulement les matches dans les texte avec le pattern indiqué (nos mots-clès!) et que l’on compte combien de fois le pattern est matché dans le meme texte. C’est donc avec les options “egrep” -o et -c qu’on obtien enfin la valeur correcte de la variable “occurrence_mot”. “occurrence_mot” est ensuite inclu dans les tableaux HTML. 


############### IMAGE 2 – 2.comptageMots #############################
